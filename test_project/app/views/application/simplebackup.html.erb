<html>
	<head>

		   <%= javascript_include_tag "d3.v3.min.js" %>
		    <%= javascript_include_tag "jquery.min.js" %>
	</head>
	<body>
		<table>
			<thead>
				<tr>
					<th>Name</th>
					<th>Mass [MJup]</th>
				</tr>
			</thead>
			<tbody id="tablebody">
			</tbody>
		</table>
		<script type="text/javascript">
			d3.xml("systems.xml", "application/xml", function(xmldata) {
				var planets = $("planet",xmldata);
				var tr = d3.select("#tablebody").selectAll("tr").data(planets)
					.enter().append("tr");
				tr.append("td").text(function(planet){ return $("name:first",$(planet)).text(); });
				tr.append("td").text(function(planet){ return $("mass",$(planet)).text(); });
			});
		</script>
	</body>
</html>
